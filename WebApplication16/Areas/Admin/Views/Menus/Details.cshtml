@model WebApplication16.Models.Menu

@{
    ViewData["Title"] = "مدیریت آیتم‌های منو: " + Model.Name;
    var topLevelItems = ViewBag.MenuItems as List<MenuItem>;
}

<h1>@ViewData["Title"]</h1>
<p class="text-muted">در این صفحه می‌توانید آیتم‌های منوی انتخاب شده را به صورت درختی مشاهده و مدیریت کنید.</p>

<div>
    <hr />
    <h4>ساختار منو</h4>

    <p>
        <a asp-action="CreateItem" asp-route-menuId="@Model.Id" class="btn btn-primary">
            <i class="fas fa-plus"></i> افزودن آیتم جدید
        </a>
    </p>

    @if (topLevelItems != null && topLevelItems.Any())
    {
        <partial name="_MenuItemTree" model="topLevelItems" />
    }
    else
    {
        <div class="alert alert-info">
            هنوز هیچ آیتمی برای این منو تعریف نشده است.
        </div>
    }
</div>
<div class="mt-4">
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-secondary">ویرایش نام منو</a> |
    <a asp-action="Index">بازگشت به لیست منوها</a>
</div>