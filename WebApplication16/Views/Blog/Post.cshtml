@model WebApplication16.Models.Post

@{
    ViewData["Title"] = Model.Title;
}

<div class="container mt-5">
    <article>
        <header>
            <h1>@Model.Title</h1>
            <p class="text-muted">
                <span>دسته بندی: <a asp-controller="Blog" asp-action="Category" asp-route-categorySlug="@Model.Category.Slug">@Model.Category.Name</a></span> |
                <span>تاریخ انتشار: @Model.PublishDate?.ToShortDateString()</span>
            </p>
        </header>

        @if (!string.IsNullOrEmpty(Model.FeaturedImageUrl))
        {
            <img src="@Model.FeaturedImageUrl" class="img-fluid rounded my-4" alt="@Model.Title">
        }

        <hr />

        <section class="post-content">
            @* نکته امنیتی مهم: استفاده از @Html.Raw() می‌تواند سایت شما را در برابر حملات XSS آسیب‌پذیر کند.
               این دستور به مرورگر می‌گوید که هر تگ HTML که در محتوای شما وجود دارد را اجرا کند.
               در یک سیستم واقعی، قبل از ذخیره کردن محتوا در دیتابیس، باید آن را با استفاده از یک کتابخانه
               مانند "HtmlSanitizer" پاکسازی کنید تا از اجرای کدهای مخرب جلوگیری شود. *@
            @Html.Raw(Model.Content)
        </section>

        @if (Model.PostTags.Any())
        {
            <footer class="mt-4">
                <strong>تگ‌ها:</strong>
                @foreach (var postTag in Model.PostTags)
                {
                    <a asp-controller="Blog" asp-action="Tag" asp-route-tagSlug="@postTag.Tag.Slug" class="badge bg-secondary text-decoration-none">@postTag.Tag.Name</a>
                }
            </footer>
        }
    </article>
</div>